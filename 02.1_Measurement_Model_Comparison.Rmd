---
title: "Attitudes toward Redistribution"
output:
  html_document:
    df_print: paged
---

This file complements Fig 2 (cross country-wave correlation comparison), by testing the model fit indices for a constrained model where the correlation is fixed across all country waves (M1), and a free model where it varies (M2).

```{r setup}
pacman::p_load("lavaan",
               "tidyverse")

df_na <- readRDS(here::here("data", "df_na.RDS"))

```

## Models - Testing Invariance
```{r models}

#Basic model
M1 <- 'gov_redist ~ incdiff_large'
#Fixed coefficients
M2 <- 'gov_redist ~ a*incdiff_large'

#Free loading by group
M1_fit <- sem(M1,
              data = df_na,
              group = "iso3c_wave")

#Fixed loading
M2_fit <- sem(M2,
              data = df_na,
              group = "iso3c_wave")

```
## Fit Comparison
```{r fit}
lavTestLRT(M1_fit, M2_fit)

fitMeasures(M1_fit)
```



